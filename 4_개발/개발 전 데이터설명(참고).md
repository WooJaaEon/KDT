# 설명

## sql

sql은 1 ->2 순서로 실행 _(로컬 mysql에서는 문제없는거 확인됨)_

mwb는 mysqlworkbench파일

**이왕이면 교수님이랑 줌하고 진행됬으면 좋겠음**

---

## 코드

`각각의 설정 필요함 ex)db`

### 대충 이런식임

0. 기본세팅(날짜 등)
1. 직종별로, 처음 접속해서 각각 목록 페이지의 끝번호를 알아온다
2. 목록 페이지의 끝번호까지 반복하면서, 최대 50개의 상세정보url을 받아온다
3. 상세정보페이지에서 정보수집하고 파싱
4. db에 넣음

### 타겟

워크넷의 공고들 중, <span style='color:red;'>워크넷에서만 제공하고, 상용직이며, 등록,마감일이 +=1달인 공고들</span>
|url|설명|
|:-----|:--|
|occupation=occ | '01'~'13'까지 있으면서 각각 직종을 나타냄|
|siteClcd=WORK | 워크넷에서만 제공하는 데이터|
|resultCntInfo=50 | 50개식 정보를 가져옴|
|pageIndex| 현재페이지 번호|
|regDateEndt|등록일 시작하는날짜|
|cloDateEndt|등록일 끝나는 날짜|

~~<span style='color:red;'>뭔 유알엘이 천자를넘음</span>~~
_대략 4만여건임_

---

## DB

관련된 RDB는 공고, 회사, 지역, 임금형태, 직종, 급여형식 총 5개임

**이중 실질적으로 업데이트할 것은**
<span style='color:red;'>공고, 회사 2개임</span>

> 크롤링으로 업데이트하려면 하나당 최소 5개의 정보를 받아와야하기때문에,

> > 직종은 하나당 한번씩 업데이트

> > 지역, 임금형태, 직종, 급여형식 4개는 메모리에 넣어놓고 비교하면서 진행

> > 회사도 메모리기반으로 하는데, 새 회사가 생길때마다 db에 insert

---

## 테스트 결과

- 작동은함
- **무선와이파이**로 **로컬db** 에다 업데이트할 때, 1초당 3개꼴로 업데이트됨
  - 대략 4만개면 4~5시간이상 걸릴거같음
- 단점
  - 메모리를 많이 먹음
  - 메모리기반이기때문에, db에 데이터가 있는 상태면 오류날거임
  - 공유데이터가 너무 많기 때문에, 멀티프로세싱짜봤자 의미없을듯?
  - 전체를 테스트해보지 않음(솔직히 자신없음)
  - 코드가 좀 ~~많이~~더러움
